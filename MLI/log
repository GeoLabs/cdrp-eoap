[1;30mINFO[0m calrissian 0.12.0 (cwltool 3.1.20230201224320)
[1;30mINFO[0m Resolved '/workflow-input/workflow.cwl#main' to 'file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main'
[1;30mDEBUG[0m [32mStarting ThreadPoolJobExecutor.run_jobs: total_resources=[ram: 1073.741824, cores: 1.0], max_workers=None[0m
[1;30mDEBUG[0m [32m[workflow ] initialized from file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main[0m
[1;30mDEBUG[0m [32mwait_for_completion with 0 futures[0m
[1;30mDEBUG[0m [32m[workflow ] inputs {
    "APP": "zoo-project-dru",
    "STAGEIN_AWS_ACCESS_KEY_ID": "minio-admin",
    "STAGEIN_AWS_REGION": "RegionOne",
    "STAGEIN_AWS_SECRET_ACCESS_KEY": "minio-secret-password",
    "STAGEIN_AWS_SERVICEURL": "http://s3-service.zoo.svc.cluster.local:9000",
    "STAGEOUT_AWS_ACCESS_KEY_ID": "minio-admin",
    "STAGEOUT_AWS_REGION": "RegionOne",
    "STAGEOUT_AWS_SECRET_ACCESS_KEY": "minio-secret-password",
    "STAGEOUT_AWS_SERVICEURL": "http://s3-service.zoo.svc.cluster.local:9000",
    "STAGEOUT_OUTPUT": "eoepca",
    "boundary": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/testBoundary/Test_006.tif",
    "collection_id": "8da8907c-1dfe-11ef-a039-4acaf094ed28",
    "dem": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030.tif",
    "hillshade": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_HILLSHADE.tif",
    "mask": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/noDataMask/SNOW_CLOUD_MASK_010.tif",
    "model": "https://www.geolabs.fr/dl/.RawData/M_ALL_006.hdf5",
    "post-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_POST_S2_RGB_010_UINT8.tif",
    "pre-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_PRE_S2_RGB_010_UINT8.tif",
    "process": "processing-results/8da8907c-1dfe-11ef-a039-4acaf094ed28",
    "slope": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_SLOPE.tif"
}[0m
[1;30mINFO[0m [workflow ] starting step on_stage
[1;30mDEBUG[0m [32m[step on_stage] job input {
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/boundary": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/testBoundary/Test_006.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/dem": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/hillshade": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_HILLSHADE.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/mask": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/noDataMask/SNOW_CLOUD_MASK_010.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/model": "https://www.geolabs.fr/dl/.RawData/M_ALL_006.hdf5",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/post-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_POST_S2_RGB_010_UINT8.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/pre-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_PRE_S2_RGB_010_UINT8.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/slope": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_SLOPE.tif"
}[0m
[1;30mDEBUG[0m [32m[step on_stage] evaluated job input to {
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/boundary": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/testBoundary/Test_006.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/dem": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/hillshade": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_HILLSHADE.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/mask": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/noDataMask/SNOW_CLOUD_MASK_010.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/model": "https://www.geolabs.fr/dl/.RawData/M_ALL_006.hdf5",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/post-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_POST_S2_RGB_010_UINT8.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/pre-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_PRE_S2_RGB_010_UINT8.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/slope": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_SLOPE.tif"
}[0m
[1;30mINFO[0m [step on_stage] start
[1;30mDEBUG[0m [32m[workflow on_stage] initialized from file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli[0m
[1;30mDEBUG[0m [32mwait_for_completion with 0 futures[0m
[1;30mDEBUG[0m [32m[workflow on_stage] inputs {
    "boundary": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/testBoundary/Test_006.tif",
    "dem": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030.tif",
    "hillshade": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_HILLSHADE.tif",
    "mask": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/noDataMask/SNOW_CLOUD_MASK_010.tif",
    "model": "https://www.geolabs.fr/dl/.RawData/M_ALL_006.hdf5",
    "post-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_POST_S2_RGB_010_UINT8.tif",
    "pre-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_PRE_S2_RGB_010_UINT8.tif",
    "slope": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_SLOPE.tif"
}[0m
[1;30mINFO[0m [workflow on_stage] starting step node_detect
[1;30mDEBUG[0m [32m[step node_detect] job input {
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/boundary": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/testBoundary/Test_006.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/dem": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/hillshade": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_HILLSHADE.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/mask": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/noDataMask/SNOW_CLOUD_MASK_010.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/model": "https://www.geolabs.fr/dl/.RawData/M_ALL_006.hdf5",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/post-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_POST_S2_RGB_010_UINT8.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/pre-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_PRE_S2_RGB_010_UINT8.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/slope": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_SLOPE.tif"
}[0m
[1;30mDEBUG[0m [32m[step node_detect] evaluated job input to {
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/boundary": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/testBoundary/Test_006.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/dem": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/hillshade": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_HILLSHADE.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/mask": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/noDataMask/SNOW_CLOUD_MASK_010.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/model": "https://www.geolabs.fr/dl/.RawData/M_ALL_006.hdf5",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/post-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_POST_S2_RGB_010_UINT8.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/pre-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_PRE_S2_RGB_010_UINT8.tif",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/slope": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_SLOPE.tif"
}[0m
[1;30mINFO[0m [step node_detect] start
[1;30mDEBUG[0m [32m[job node_detect] initializing from file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#run-app as part of step node_detect[0m
[1;30mDEBUG[0m [32m[job node_detect] {
    "boundary": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/testBoundary/Test_006.tif",
    "dem": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030.tif",
    "hillshade": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_HILLSHADE.tif",
    "mask": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/noDataMask/SNOW_CLOUD_MASK_010.tif",
    "model": "https://www.geolabs.fr/dl/.RawData/M_ALL_006.hdf5",
    "post-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_POST_S2_RGB_010_UINT8.tif",
    "pre-image": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_PRE_S2_RGB_010_UINT8.tif",
    "slope": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_SLOPE.tif"
}[0m
[1;30mDEBUG[0m [32m[job node_detect] path mappings is {}[0m
[1;30mDEBUG[0m [32m[job node_detect] command line bindings is [
    {
        "position": [
            -1000000,
            0
        ],
        "datum": "python"
    },
    {
        "position": [
            -1000000,
            1
        ],
        "datum": "-m"
    },
    {
        "position": [
            -1000000,
            2
        ],
        "datum": "app"
    },
    {
        "prefix": "--boundary",
        "position": [
            0,
            "boundary"
        ],
        "datum": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/testBoundary/Test_006.tif"
    },
    {
        "prefix": "--dem",
        "position": [
            0,
            "dem"
        ],
        "datum": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030.tif"
    },
    {
        "prefix": "--hillshade",
        "position": [
            0,
            "hillshade"
        ],
        "datum": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_HILLSHADE.tif"
    },
    {
        "prefix": "--mask",
        "position": [
            0,
            "mask"
        ],
        "datum": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/noDataMask/SNOW_CLOUD_MASK_010.tif"
    },
    {
        "prefix": "--model",
        "position": [
            0,
            "model"
        ],
        "datum": "https://www.geolabs.fr/dl/.RawData/M_ALL_006.hdf5"
    },
    {
        "prefix": "--post-image",
        "position": [
            0,
            "post-image"
        ],
        "datum": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_POST_S2_RGB_010_UINT8.tif"
    },
    {
        "prefix": "--pre-image",
        "position": [
            0,
            "pre-image"
        ],
        "datum": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_PRE_S2_RGB_010_UINT8.tif"
    },
    {
        "prefix": "--slope",
        "position": [
            0,
            "slope"
        ],
        "datum": "https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_SLOPE.tif"
    }
][0m
[1;30mDEBUG[0m [32mwait_for_completion with 0 futures[0m
[1;30mDEBUG[0m [32m[workflow ] job step file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out not ready[0m
[1;30mDEBUG[0m [32m[workflow ] job step file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out not ready[0m
[1;30mDEBUG[0m [32mallocate [ram: 0, cores: 0] from available [ram: 1073.741824, cores: 1.0][0m
[1;30mINFO[0m [workflow ] start
[1;30mDEBUG[0m [32mrestore [ram: 0, cores: 0] to available [ram: 1073.741824, cores: 1.0][0m
[1;30mDEBUG[0m [32mallocate [ram: 0, cores: 0] from available [ram: 1073.741824, cores: 1.0][0m
[1;30mINFO[0m [workflow on_stage] start
[1;30mDEBUG[0m [32mrestore [ram: 0, cores: 0] to available [ram: 1073.741824, cores: 1.0][0m
[1;30mDEBUG[0m [32mallocate [ram: 1024, cores: 1] from available [ram: 1073.741824, cores: 1.0][0m
[1;30mDEBUG[0m [32mwait_for_completion with 3 futures[0m
[1;30mDEBUG[0m [32m[workflow ] job step file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out not ready[0m
[1;30mDEBUG[0m [32mwait_for_completion with 1 futures[0m
[1;30mDEBUG[0m [32m[job node_detect] initial work dir {
    "_:428d655b-21fd-4c3d-b10e-bbf50ac351d4": [
        "{\n    \"id\": \"catalog\",\n    \"stac_version\": \"1.0.0\",\n    \"links\": [\n        {\n            \"type\": \"application/geo+json\",\n            \"rel\": \"item\",\n            \"href\": \"myMockStacItem/LS-Predict-50.json\"\n        },\n        {\n            \"type\": \"application/geo+json\",\n            \"rel\": \"item\",\n            \"href\": \"myMockStacItem/LS-Predict-Conf.json\"\n        },\n        {\n            \"type\": \"application/json\",\n            \"rel\": \"self\",\n            \"href\": \"catalog.json\"\n        }\n    ],\n    \"type\": \"Catalog\",\n    \"description\": \"Root catalog\"\n}",
        "/SRkTnS/catalog.json",
        "CreateFile",
        true
    ]
}[0m
Building resources spec from {'cores': 1, 'ram': 1024}
--------------------------------------------------------------------------------
apiVersion: v1
kind: Pod
metadata:
  labels: {}
  name: node-detect-pod-lxjnbiyz
spec:
  containers:
  - args:
    - python -m app --boundary https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/testBoundary/Test_006.tif
      --dem https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030.tif --hillshade
      https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_HILLSHADE.tif --mask
      https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/noDataMask/SNOW_CLOUD_MASK_010.tif
      --model https://www.geolabs.fr/dl/.RawData/M_ALL_006.hdf5 --post-image https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_POST_S2_RGB_010_UINT8.tif
      --pre-image https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/fromOptical/JIUZ_PRE_S2_RGB_010_UINT8.tif
      --slope https://www.geolabs.fr/dl/.RawData/AOI_E_S2-S2/DEM/DEM_030_SLOPE.tif
    command:
    - /bin/sh
    - -c
    env:
    - name: A
      value: '1'
    - name: B
      value: '2'
    - name: HOME
      value: /SRkTnS
    - name: PYTHONPATH
      value: /opt/conda/envs/myenv/site-packages/
    - name: TMPDIR
      value: /tmp
    image: geolabs/cdrp-hli-package:1.0
    name: node-detect-container
    resources:
      requests:
        cpu: '1'
        memory: 1024Mi
    volumeMounts:
    - mountPath: /SRkTnS
      name: calrissian-wdir
      readOnly: false
      subPath: 5k_o08cp
    - mountPath: /tmp
      name: tmpdir
    workingDir: /SRkTnS
  initContainers: []
  nodeSelector: {}
  restartPolicy: Never
  securityContext:
    runAsGroup: 0
    runAsUser: 0
  volumes:
  - name: calrissian-wdir
    persistentVolumeClaim:
      claimName: calrissian-wdir
      readOnly: false
  - emptyDir: {}
    name: tmpdir
--------------------------------------------------------------------------------

Created k8s pod name node-detect-pod-lxjnbiyz with id 661d8ba9-afa8-4b0e-ac98-d046398ea198
PodMonitor adding node-detect-pod-lxjnbiyz
k8s pod 'node-detect-pod-lxjnbiyz' started
pod name node-detect-pod-lxjnbiyz with id 661d8ba9-afa8-4b0e-ac98-d046398ea198 has status None
pod name node-detect-pod-lxjnbiyz with id 661d8ba9-afa8-4b0e-ac98-d046398ea198 has status {'container_id': None,
 'image': 'geolabs/cdrp-hli-package:1.0',
 'image_id': '',
 'last_state': {'running': None, 'terminated': None, 'waiting': None},
 'name': 'node-detect-container',
 'ready': False,
 'restart_count': 0,
 'state': {'running': None,
           'terminated': None,
           'waiting': {'message': None, 'reason': 'ContainerCreating'}}}
pod name node-detect-pod-lxjnbiyz with id 661d8ba9-afa8-4b0e-ac98-d046398ea198 has status {'container_id': 'docker://d252321a2378359cc565df4bab1eb7faeac7c617d51f962cc887a591935e3cc1',
 'image': 'geolabs/cdrp-hli-package:1.0',
 'image_id': 'docker://sha256:f3d7da8690a64a1b3e20461ab486a956e7626a520cc5e481ec5c5af1e6309a30',
 'last_state': {'running': None, 'terminated': None, 'waiting': None},
 'name': 'node-detect-container',
 'ready': True,
 'restart_count': 0,
 'state': {'running': {'started_at': datetime.datetime(2024, 5, 29, 21, 1, 55, tzinfo=tzlocal())},
           'terminated': None,
           'waiting': None}}
[node-detect-pod-lxjnbiyz] follow_logs start
[node-detect-pod-lxjnbiyz] 2024-05-29 21:01:57.334799: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
[node-detect-pod-lxjnbiyz] 2024-05-29 21:01:57.488501: W tensorflow/compiler/xla/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /opt/conda/envs/myenv/lib/python3.10/site-packages/cv2/../../lib64:
2024-05-29 21:01:57.488548: I tensorflow/compiler/xla/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
[node-detect-pod-lxjnbiyz] 2024-05-29 21:01:59.211574: W tensorflow/compiler/xla/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libnvinfer.so.7'; dlerror: libnvinfer.so.7: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /opt/conda/envs/myenv/lib/python3.10/site-packages/cv2/../../lib64:
2024-05-29 21:01:59.211784: W tensorflow/compiler/xla/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libnvinfer_plugin.so.7'; dlerror: libnvinfer_plugin.so.7: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /opt/conda/envs/myenv/lib/python3.10/site-packages/cv2/../../lib64:
2024-05-29 21:01:59.211825: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:38] TF-TRT Warning: Cannot dlopen some TensorRT libraries. If you would like to use Nvidia GPU with TensorRT, please make sure the missing libraries mentioned above are installed properly.
[node-detect-pod-lxjnbiyz] 2024-05-29 21:02:01.591544: W tensorflow/compiler/xla/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /opt/conda/envs/myenv/lib/python3.10/site-packages/cv2/../../lib64:
[node-detect-pod-lxjnbiyz] 2024-05-29 21:02:01.592096: W tensorflow/compiler/xla/stream_executor/cuda/cuda_driver.cc:265] failed call to cuInit: UNKNOWN ERROR (303)
2024-05-29 21:02:01.592156: I tensorflow/compiler/xla/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (node-detect-pod-lxjnbiyz): /proc/driver/nvidia/version does not exist
[node-detect-pod-lxjnbiyz] Warning 1: PROJ: proj_create_from_database: Open of /opt/conda/envs/myenv/share/proj failed
Warning 1: The definition of projected CRS EPSG:32648 got from GeoTIFF keys is not the same as the one from the EPSG registry, which may cause issues during reprojection operations. Set GTIFF_SRS_SOURCE configuration option to EPSG to use official parameters (overriding the ones from GeoTIFF keys), or to GEOKEYS to use custom values from GeoTIFF keys and drop the EPSG code.
[node-detect-pod-lxjnbiyz] ERROR 1: PROJ: proj_create_from_name: Open of /opt/conda/envs/myenv/share/proj failed
[node-detect-pod-lxjnbiyz] 2024-05-29 21:02:47.874824: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
[node-detect-pod-lxjnbiyz] myMockStacItem --> Folder exists!!!
0 files found in myMockStacItem --> Will be deleted.
[node-detect-pod-lxjnbiyz] 0it [00:00, ?it/s]0it [00:00, ?it/s]
[node-detect-pod-lxjnbiyz] ERROR 1: PROJ: proj_create_from_name: Open of /opt/conda/envs/myenv/share/proj failed
[node-detect-pod-lxjnbiyz] ERROR 1: PROJ: proj_create_from_name: Open of /opt/conda/envs/myenv/share/proj failed
[node-detect-pod-lxjnbiyz] 2024-05-29 21:02:51.677 | INFO     | __main__:save_stac:78 - Write stac item ...
[node-detect-pod-lxjnbiyz] 2024-05-29 21:02:51.684 | INFO     | __main__:save_stac:78 - Write stac item ...
[node-detect-pod-lxjnbiyz] follow_logs end
pod name node-detect-pod-lxjnbiyz with id 661d8ba9-afa8-4b0e-ac98-d046398ea198 has status {'container_id': 'docker://d252321a2378359cc565df4bab1eb7faeac7c617d51f962cc887a591935e3cc1',
 'image': 'geolabs/cdrp-hli-package:1.0',
 'image_id': 'docker://sha256:f3d7da8690a64a1b3e20461ab486a956e7626a520cc5e481ec5c5af1e6309a30',
 'last_state': {'running': None, 'terminated': None, 'waiting': None},
 'name': 'node-detect-container',
 'ready': False,
 'restart_count': 0,
 'state': {'running': None,
           'terminated': {'container_id': 'docker://d252321a2378359cc565df4bab1eb7faeac7c617d51f962cc887a591935e3cc1',
                          'exit_code': 0,
                          'finished_at': datetime.datetime(2024, 5, 29, 21, 2, 52, tzinfo=tzlocal()),
                          'message': None,
                          'reason': 'Completed',
                          'signal': None,
                          'started_at': datetime.datetime(2024, 5, 29, 21, 1, 55, tzinfo=tzlocal())},
           'waiting': None}}
Handling terminated pod name node-detect-pod-lxjnbiyz with id 661d8ba9-afa8-4b0e-ac98-d046398ea198
handling completion with 0
PodMonitor removing node-detect-pod-lxjnbiyz
Writing pod node_detect logs to /calrissian/node_detect.log
[1;30mDEBUG[0m [32m[step node_detect] produced output {
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#geolabs_cdrp_hli/node_detect/stac-catalog": {
        "location": "file:///calrissian/5k_o08cp",
        "basename": "5k_o08cp",
        "nameroot": "5k_o08cp",
        "nameext": "",
        "class": "Directory"
    }
}[0m
[1;30mINFO[0m [step node_detect] completed success
[1;30mINFO[0m [workflow on_stage] completed success
[1;30mDEBUG[0m [32m[workflow on_stage] outputs {
    "stac_catalog": {
        "location": "file:///calrissian/5k_o08cp",
        "basename": "5k_o08cp",
        "nameroot": "5k_o08cp",
        "nameext": "",
        "class": "Directory"
    }
}[0m
[1;30mDEBUG[0m [32m[step on_stage] produced output {
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/on_stage/stac_catalog": {
        "location": "file:///calrissian/5k_o08cp",
        "basename": "5k_o08cp",
        "nameroot": "5k_o08cp",
        "nameext": "",
        "class": "Directory"
    }
}[0m
[1;30mINFO[0m [step on_stage] completed success
shutil.rmtree(/tmp/29k66_8b, True)
shutil.rmtree(/tmp/fw1y5thy, True)
[1;30mDEBUG[0m [32mrestore [ram: 1024, cores: 1] to available [ram: 49.74182399999995, cores: 0.0][0m
[1;30mINFO[0m [workflow ] starting step node_stage_out
[1;30mDEBUG[0m [32m[step node_stage_out] job input {
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/STAGEOUT_AWS_ACCESS_KEY_ID": "minio-admin",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/STAGEOUT_AWS_REGION": "RegionOne",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/STAGEOUT_AWS_SECRET_ACCESS_KEY": "minio-secret-password",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/STAGEOUT_AWS_SERVICEURL": "http://s3-service.zoo.svc.cluster.local:9000",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/STAGEOUT_OUTPUT": "eoepca",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/process": "processing-results/8da8907c-1dfe-11ef-a039-4acaf094ed28",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/wf_outputs": {
        "location": "file:///calrissian/5k_o08cp",
        "basename": "5k_o08cp",
        "nameroot": "5k_o08cp",
        "nameext": "",
        "class": "Directory"
    }
}[0m
[1;30mDEBUG[0m [32m[step node_stage_out] evaluated job input to {
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/STAGEOUT_AWS_ACCESS_KEY_ID": "minio-admin",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/STAGEOUT_AWS_REGION": "RegionOne",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/STAGEOUT_AWS_SECRET_ACCESS_KEY": "minio-secret-password",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/STAGEOUT_AWS_SERVICEURL": "http://s3-service.zoo.svc.cluster.local:9000",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/STAGEOUT_OUTPUT": "eoepca",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/process": "processing-results/8da8907c-1dfe-11ef-a039-4acaf094ed28",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/wf_outputs": {
        "location": "file:///calrissian/5k_o08cp",
        "basename": "5k_o08cp",
        "nameroot": "5k_o08cp",
        "nameext": "",
        "class": "Directory"
    }
}[0m
[1;30mINFO[0m [step node_stage_out] start
[1;30mDEBUG[0m [32m[job node_stage_out] initializing from file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/stage-out as part of step node_stage_out[0m
[1;30mDEBUG[0m [32m[job node_stage_out] {
    "STAGEOUT_AWS_ACCESS_KEY_ID": "minio-admin",
    "STAGEOUT_AWS_REGION": "RegionOne",
    "STAGEOUT_AWS_SECRET_ACCESS_KEY": "minio-secret-password",
    "STAGEOUT_AWS_SERVICEURL": "http://s3-service.zoo.svc.cluster.local:9000",
    "STAGEOUT_OUTPUT": "eoepca",
    "process": "processing-results/8da8907c-1dfe-11ef-a039-4acaf094ed28",
    "wf_outputs": {
        "location": "file:///calrissian/5k_o08cp",
        "basename": "5k_o08cp",
        "nameroot": "5k_o08cp",
        "nameext": "",
        "class": "Directory",
        "listing": [
            {
                "class": "Directory",
                "location": "file:///calrissian/5k_o08cp/.keras",
                "basename": ".keras",
                "listing": [
                    {
                        "class": "File",
                        "location": "file:///calrissian/5k_o08cp/.keras/keras.json",
                        "basename": "keras.json",
                        "size": 120
                    }
                ]
            },
            {
                "class": "Directory",
                "location": "file:///calrissian/5k_o08cp/.config",
                "basename": ".config",
                "listing": [
                    {
                        "class": "Directory",
                        "location": "file:///calrissian/5k_o08cp/.config/matplotlib",
                        "basename": "matplotlib",
                        "listing": []
                    }
                ]
            },
            {
                "class": "File",
                "location": "file:///calrissian/5k_o08cp/catalog.json",
                "basename": "catalog.json",
                "size": 552
            },
            {
                "class": "Directory",
                "location": "file:///calrissian/5k_o08cp/.cache",
                "basename": ".cache",
                "listing": [
                    {
                        "class": "Directory",
                        "location": "file:///calrissian/5k_o08cp/.cache/matplotlib",
                        "basename": "matplotlib",
                        "listing": [
                            {
                                "class": "File",
                                "location": "file:///calrissian/5k_o08cp/.cache/matplotlib/fontlist-v330.json",
                                "basename": "fontlist-v330.json",
                                "size": 32641
                            }
                        ]
                    }
                ]
            },
            {
                "class": "Directory",
                "location": "file:///calrissian/5k_o08cp/myMockStacItem",
                "basename": "myMockStacItem",
                "listing": [
                    {
                        "class": "File",
                        "location": "file:///calrissian/5k_o08cp/myMockStacItem/LS_Predict_50.json",
                        "basename": "LS_Predict_50.json",
                        "size": 3347
                    },
                    {
                        "class": "File",
                        "location": "file:///calrissian/5k_o08cp/myMockStacItem/Predict_LS_HighConf_50.tif",
                        "basename": "Predict_LS_HighConf_50.tif",
                        "size": 8832141
                    },
                    {
                        "class": "File",
                        "location": "file:///calrissian/5k_o08cp/myMockStacItem/MaskImage.tif",
                        "basename": "MaskImage.tif",
                        "size": 8827609
                    },
                    {
                        "class": "File",
                        "location": "file:///calrissian/5k_o08cp/myMockStacItem/output.png",
                        "basename": "output.png",
                        "size": 1461219
                    },
                    {
                        "class": "File",
                        "location": "file:///calrissian/5k_o08cp/myMockStacItem/LS_Predict_Conf.json",
                        "basename": "LS_Predict_Conf.json",
                        "size": 3349
                    },
                    {
                        "class": "File",
                        "location": "file:///calrissian/5k_o08cp/myMockStacItem/Predict_LS_Conf.tif",
                        "basename": "Predict_LS_Conf.tif",
                        "size": 8832141
                    }
                ]
            }
        ]
    }
}[0m
[1;30mDEBUG[0m [32m[job node_stage_out] path mappings is {
    "file:///calrissian/5k_o08cp": [
        "/calrissian/5k_o08cp",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp",
        "Directory",
        true
    ],
    "file:///calrissian/5k_o08cp/.keras": [
        "/calrissian/5k_o08cp/.keras",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/.keras",
        "Directory",
        false
    ],
    "file:///calrissian/5k_o08cp/.keras/keras.json": [
        "/calrissian/5k_o08cp/.keras/keras.json",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/.keras/keras.json",
        "File",
        false
    ],
    "file:///calrissian/5k_o08cp/.config": [
        "/calrissian/5k_o08cp/.config",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/.config",
        "Directory",
        false
    ],
    "file:///calrissian/5k_o08cp/.config/matplotlib": [
        "/calrissian/5k_o08cp/.config/matplotlib",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/.config/matplotlib",
        "Directory",
        false
    ],
    "file:///calrissian/5k_o08cp/catalog.json": [
        "/calrissian/5k_o08cp/catalog.json",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/catalog.json",
        "File",
        false
    ],
    "file:///calrissian/5k_o08cp/.cache": [
        "/calrissian/5k_o08cp/.cache",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/.cache",
        "Directory",
        false
    ],
    "file:///calrissian/5k_o08cp/.cache/matplotlib": [
        "/calrissian/5k_o08cp/.cache/matplotlib",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/.cache/matplotlib",
        "Directory",
        false
    ],
    "file:///calrissian/5k_o08cp/.cache/matplotlib/fontlist-v330.json": [
        "/calrissian/5k_o08cp/.cache/matplotlib/fontlist-v330.json",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/.cache/matplotlib/fontlist-v330.json",
        "File",
        false
    ],
    "file:///calrissian/5k_o08cp/myMockStacItem": [
        "/calrissian/5k_o08cp/myMockStacItem",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/myMockStacItem",
        "Directory",
        false
    ],
    "file:///calrissian/5k_o08cp/myMockStacItem/LS_Predict_50.json": [
        "/calrissian/5k_o08cp/myMockStacItem/LS_Predict_50.json",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/myMockStacItem/LS_Predict_50.json",
        "File",
        false
    ],
    "file:///calrissian/5k_o08cp/myMockStacItem/Predict_LS_HighConf_50.tif": [
        "/calrissian/5k_o08cp/myMockStacItem/Predict_LS_HighConf_50.tif",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/myMockStacItem/Predict_LS_HighConf_50.tif",
        "File",
        false
    ],
    "file:///calrissian/5k_o08cp/myMockStacItem/MaskImage.tif": [
        "/calrissian/5k_o08cp/myMockStacItem/MaskImage.tif",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/myMockStacItem/MaskImage.tif",
        "File",
        false
    ],
    "file:///calrissian/5k_o08cp/myMockStacItem/output.png": [
        "/calrissian/5k_o08cp/myMockStacItem/output.png",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/myMockStacItem/output.png",
        "File",
        false
    ],
    "file:///calrissian/5k_o08cp/myMockStacItem/LS_Predict_Conf.json": [
        "/calrissian/5k_o08cp/myMockStacItem/LS_Predict_Conf.json",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/myMockStacItem/LS_Predict_Conf.json",
        "File",
        false
    ],
    "file:///calrissian/5k_o08cp/myMockStacItem/Predict_LS_Conf.tif": [
        "/calrissian/5k_o08cp/myMockStacItem/Predict_LS_Conf.tif",
        "/var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp/myMockStacItem/Predict_LS_Conf.tif",
        "File",
        false
    ]
}[0m
[1;30mDEBUG[0m [32m[job node_stage_out] command line bindings is [
    {
        "position": [
            -1000000,
            0
        ],
        "datum": "python"
    },
    {
        "position": [
            -1000000,
            1
        ],
        "datum": "stage.py"
    },
    {
        "position": [
            0,
            0
        ],
        "valueFrom": "$( inputs.wf_outputs.path )"
    },
    {
        "position": [
            0,
            1
        ],
        "valueFrom": "$( inputs.STAGEOUT_OUTPUT )"
    },
    {
        "position": [
            0,
            2
        ],
        "valueFrom": "$( inputs.process )"
    }
][0m
[1;30mDEBUG[0m [32mwait_for_completion with 0 futures[0m
[1;30mDEBUG[0m [32mallocate [ram: 1024, cores: 1] from available [ram: 1073.741824, cores: 1.0][0m
[1;30mDEBUG[0m [32mwait_for_completion with 1 futures[0m
[1;30mDEBUG[0m [32m[job node_stage_out] initial work dir {
    "_:fc236078-d096-4d3b-ae88-1dd7ee979c6b": [
        "import os\nimport sys\nimport pystac\nimport botocore\nimport boto3\nimport shutil\nfrom pystac.stac_io import DefaultStacIO, StacIO\nfrom urllib.parse import urlparse\n\ncat_url = sys.argv[1]\nbucket = sys.argv[2].replace(\"s3://\",\"\")\nsubfolder = sys.argv[3]\n\naws_access_key_id = os.environ[\"STAGEOUT_AWS_ACCESS_KEY_ID\"]\naws_secret_access_key = os.environ[\"STAGEOUT_AWS_SECRET_ACCESS_KEY\"]\nregion_name = os.environ[\"STAGEOUT_AWS_REGION\"]\nendpoint_url = os.environ[\"STAGEOUT_AWS_SERVICEURL\"]\n\nshutil.copytree(cat_url, \"/tmp/catalog\")\ncat = pystac.read_file(os.path.join(\"/tmp/catalog\", \"catalog.json\"))\n\nclass CustomStacIO(DefaultStacIO):\n    \"\"\"Custom STAC IO class that uses boto3 to read from S3.\"\"\"\n\n    def __init__(self):\n        self.session = botocore.session.Session()\n        self.s3_client = self.session.create_client(\n            service_name=\"s3\",\n            use_ssl=True,\n            aws_access_key_id=aws_access_key_id,\n            aws_secret_access_key=aws_secret_access_key,\n            endpoint_url=endpoint_url,\n            region_name=region_name,\n        )\n\n    def write_text(self, dest, txt, *args, **kwargs):\n        parsed = urlparse(dest)\n        if parsed.scheme == \"s3\":\n            self.s3_client.put_object(\n                Body=txt.encode(\"UTF-8\"),\n                Bucket=parsed.netloc,\n                Key=parsed.path[1:],\n                ContentType=\"application/geo+json\",\n            )\n        else:\n            super().write_text(dest, txt, *args, **kwargs)\n\n\nclient = boto3.client(\n    \"s3\",\n    aws_access_key_id=aws_access_key_id,\n    aws_secret_access_key=aws_secret_access_key,\n    endpoint_url=endpoint_url,\n    region_name=region_name,\n)\n\nStacIO.set_default(CustomStacIO)\n\nfor item in cat.get_items():\n    for key, asset in item.get_assets().items():\n        s3_path = os.path.normpath(\n            os.path.join(os.path.join(subfolder, item.id, asset.href))\n        )\n        print(f\"upload {asset.href} to s3://{bucket}/{s3_path}\",file=sys.stderr)\n        client.upload_file(\n            asset.get_absolute_href(),\n            bucket,\n            s3_path,\n        )\n        asset.href = f\"s3://{bucket}/{s3_path}\"\n        item.add_asset(key, asset)\n\ncat.normalize_hrefs(f\"s3://{bucket}/{subfolder}\")\n\nfor item in cat.get_items():\n    # upload item to S3\n    print(f\"upload {item.id} to s3://{bucket}/{subfolder}\", file=sys.stderr)\n    pystac.write_file(item, item.get_self_href())\n\n\n# upload catalog to S3\nprint(f\"upload catalog.json to s3://{bucket}/{subfolder}\", file=sys.stderr)\nfor index, link in enumerate(cat.links):\n    if link.rel == \"root\":\n    \t cat.links.pop(index) \npystac.write_file(cat, cat.get_self_href())\n\nprint(f\"s3://{bucket}/{subfolder}/catalog.json\", file=sys.stdout)",
        "/SRkTnS/stage.py",
        "CreateFile",
        true
    ]
}[0m
Building resources spec from {'cores': 1, 'ram': 1024}
--------------------------------------------------------------------------------
apiVersion: v1
kind: Pod
metadata:
  labels: {}
  name: node-stage-out-pod-bezhygqx
spec:
  containers:
  - args:
    - python stage.py /var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp
      eoepca processing-results/8da8907c-1dfe-11ef-a039-4acaf094ed28
    command:
    - /bin/sh
    - -c
    env:
    - name: A
      value: '1'
    - name: B
      value: '2'
    - name: HOME
      value: /SRkTnS
    - name: STAGEOUT_AWS_ACCESS_KEY_ID
      value: minio-admin
    - name: STAGEOUT_AWS_REGION
      value: RegionOne
    - name: STAGEOUT_AWS_SECRET_ACCESS_KEY
      value: minio-secret-password
    - name: STAGEOUT_AWS_SERVICEURL
      value: http://s3-service.zoo.svc.cluster.local:9000
    - name: TMPDIR
      value: /tmp
    image: ghcr.io/terradue/ogc-eo-application-package-hands-on/stage:1.3.2
    name: node-stage-out-container
    resources:
      requests:
        cpu: '1'
        memory: 1024Mi
    volumeMounts:
    - mountPath: /SRkTnS
      name: calrissian-wdir
      readOnly: false
      subPath: cr3h6e_t
    - mountPath: /tmp
      name: tmpdir
    - mountPath: /var/lib/cwl/stg1863883a-e27a-4b81-8ff9-e72863bf9c9c/5k_o08cp
      name: calrissian-wdir
      readOnly: true
      subPath: 5k_o08cp
    workingDir: /SRkTnS
  initContainers: []
  nodeSelector: {}
  restartPolicy: Never
  securityContext:
    runAsGroup: 0
    runAsUser: 0
  volumes:
  - name: calrissian-wdir
    persistentVolumeClaim:
      claimName: calrissian-wdir
      readOnly: false
  - emptyDir: {}
    name: tmpdir
--------------------------------------------------------------------------------

Created k8s pod name node-stage-out-pod-bezhygqx with id 1f0033b8-d16a-4a6f-b2bc-1ce32e86da9e
PodMonitor adding node-stage-out-pod-bezhygqx
k8s pod 'node-stage-out-pod-bezhygqx' started
pod name node-stage-out-pod-bezhygqx with id 1f0033b8-d16a-4a6f-b2bc-1ce32e86da9e has status None
pod name node-stage-out-pod-bezhygqx with id 1f0033b8-d16a-4a6f-b2bc-1ce32e86da9e has status None
pod name node-stage-out-pod-bezhygqx with id 1f0033b8-d16a-4a6f-b2bc-1ce32e86da9e has status {'container_id': None,
 'image': 'ghcr.io/terradue/ogc-eo-application-package-hands-on/stage:1.3.2',
 'image_id': '',
 'last_state': {'running': None, 'terminated': None, 'waiting': None},
 'name': 'node-stage-out-container',
 'ready': False,
 'restart_count': 0,
 'state': {'running': None,
           'terminated': None,
           'waiting': {'message': None, 'reason': 'ContainerCreating'}}}
pod name node-stage-out-pod-bezhygqx with id 1f0033b8-d16a-4a6f-b2bc-1ce32e86da9e has status {'container_id': 'docker://238d87d3fc3c252e73fdc0a4736c4526cbf81d8683e70c35f28628b822214255',
 'image': 'ghcr.io/terradue/ogc-eo-application-package-hands-on/stage:1.3.2',
 'image_id': 'docker-pullable://ghcr.io/terradue/ogc-eo-application-package-hands-on/stage@sha256:02b81d58e6170d1b7f94396efe02e8a8c57b783593491c2eea3e7b701c3596fc',
 'last_state': {'running': None, 'terminated': None, 'waiting': None},
 'name': 'node-stage-out-container',
 'ready': True,
 'restart_count': 0,
 'state': {'running': {'started_at': datetime.datetime(2024, 5, 29, 21, 2, 54, tzinfo=tzlocal())},
           'terminated': None,
           'waiting': None}}
[node-stage-out-pod-bezhygqx] follow_logs start
[node-stage-out-pod-bezhygqx] Traceback (most recent call last):
  File "/SRkTnS/stage.py", line 59, in <module>
[node-stage-out-pod-bezhygqx]     for item in cat.get_items():
  File "/usr/local/lib/python3.9/site-packages/pystac/catalog.py", line 529, in get_items
[node-stage-out-pod-bezhygqx]     yield from items
[node-stage-out-pod-bezhygqx]   File "/usr/local/lib/python3.9/site-packages/pystac/stac_object.py", line 420, in get_stac_objects
    link.resolve_stac_object(root=self.get_root())
[node-stage-out-pod-bezhygqx]   File "/usr/local/lib/python3.9/site-packages/pystac/link.py", line 330, in resolve_stac_object
[node-stage-out-pod-bezhygqx]     obj = stac_io.read_stac_object(target_href, root=root)
[node-stage-out-pod-bezhygqx]   File "/usr/local/lib/python3.9/site-packages/pystac/stac_io.py", line 234, in read_stac_object
[node-stage-out-pod-bezhygqx]     d = self.read_json(source, *args, **kwargs)
  File "/usr/local/lib/python3.9/site-packages/pystac/stac_io.py", line 205, in read_json
[node-stage-out-pod-bezhygqx]     txt = self.read_text(source, *args, **kwargs)
  File "/usr/local/lib/python3.9/site-packages/pystac/stac_io.py", line 282, in read_text
[node-stage-out-pod-bezhygqx]     return self.read_text_from_href(href)
[node-stage-out-pod-bezhygqx]   File "/usr/local/lib/python3.9/site-packages/pystac/stac_io.py", line 305, in read_text_from_href
    with open(href, encoding="utf-8") as f:
FileNotFoundError: [Errno 2] No such file or directory: '/tmp/catalog/myMockStacItem/LS-Predict-50.json'
[node-stage-out-pod-bezhygqx] follow_logs end
pod name node-stage-out-pod-bezhygqx with id 1f0033b8-d16a-4a6f-b2bc-1ce32e86da9e has status {'container_id': 'docker://238d87d3fc3c252e73fdc0a4736c4526cbf81d8683e70c35f28628b822214255',
 'image': 'ghcr.io/terradue/ogc-eo-application-package-hands-on/stage:1.3.2',
 'image_id': 'docker-pullable://ghcr.io/terradue/ogc-eo-application-package-hands-on/stage@sha256:02b81d58e6170d1b7f94396efe02e8a8c57b783593491c2eea3e7b701c3596fc',
 'last_state': {'running': None, 'terminated': None, 'waiting': None},
 'name': 'node-stage-out-container',
 'ready': False,
 'restart_count': 0,
 'state': {'running': None,
           'terminated': {'container_id': 'docker://238d87d3fc3c252e73fdc0a4736c4526cbf81d8683e70c35f28628b822214255',
                          'exit_code': 1,
                          'finished_at': datetime.datetime(2024, 5, 29, 21, 2, 56, tzinfo=tzlocal()),
                          'message': None,
                          'reason': 'Error',
                          'signal': None,
                          'started_at': datetime.datetime(2024, 5, 29, 21, 2, 54, tzinfo=tzlocal())},
           'waiting': None}}
Handling terminated pod name node-stage-out-pod-bezhygqx with id 1f0033b8-d16a-4a6f-b2bc-1ce32e86da9e
handling completion with 1
PodMonitor removing node-stage-out-pod-bezhygqx
Writing pod node_stage_out logs to /calrissian/node_stage_out.log
[1;30mDEBUG[0m [32m[step node_stage_out] produced output {
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/StacCatalogUri": "eoepca/processing-results/8da8907c-1dfe-11ef-a039-4acaf094ed28/catalog.json",
    "file:///workflow-input/..2024_05_29_21_01_48.3906283119/workflow.cwl#main/node_stage_out/stac_catalog_out": {
        "location": "file:///calrissian/cr3h6e_t",
        "basename": "cr3h6e_t",
        "nameroot": "cr3h6e_t",
        "nameext": "",
        "class": "Directory"
    }
}[0m
[1;30mWARNING[0m [33m[step node_stage_out] completed permanentFail[0m
[1;30mINFO[0m [workflow ] completed permanentFail
[1;30mDEBUG[0m [32m[workflow ] outputs {
    "StacCatalogUri": "eoepca/processing-results/8da8907c-1dfe-11ef-a039-4acaf094ed28/catalog.json",
    "stac_catalog": {
        "location": "file:///calrissian/cr3h6e_t",
        "basename": "cr3h6e_t",
        "nameroot": "cr3h6e_t",
        "nameext": "",
        "class": "Directory"
    }
}[0m
shutil.rmtree(/tmp/p8i5h573, True)
shutil.rmtree(/tmp/shyk846c, True)
[1;30mDEBUG[0m [32mrestore [ram: 1024, cores: 1] to available [ram: 49.74182399999995, cores: 0.0][0m
[1;30mDEBUG[0m [32mwait_for_completion with 0 futures[0m
[1;30mDEBUG[0m [32mwait_for_completion with 0 futures[0m
[1;30mDEBUG[0m [32mFinishing ThreadPoolExecutor.run_jobs: total_resources=[ram: 1073.741824, cores: 1.0], available_resources=[ram: 1073.741824, cores: 1.0][0m
[1;30mDEBUG[0m [32mRemoving intermediate output directory /calrissian/cr3h6e_t[0m
[1;30mDEBUG[0m [32mRemoving intermediate output directory /calrissian/5k_o08cp[0m
[1;30mDEBUG[0m [32mRemoving intermediate output directory /calrissian/60unaig7[0m
[1;30mDEBUG[0m [32mRemoving intermediate output directory /calrissian/l_3yb6mt[0m
[1;30mWARNING[0m [33mFinal process status is permanentFail[0m
{
    "StacCatalogUri": "eoepca/processing-results/8da8907c-1dfe-11ef-a039-4acaf094ed28/catalog.json",
    "stac_catalog": {
        "location": "file:///calrissian/cr3h6e_t",
        "basename": "cr3h6e_t",
        "class": "Directory",
        "listing": [
            {
                "class": "File",
                "location": "file:///calrissian/cr3h6e_t/stage.py",
                "basename": "stage.py",
                "checksum": "sha1$140f1cea282e5b0a5ac9bfdd5131cb052c5a5e08",
                "size": 2723,
                "path": "/calrissian/cr3h6e_t/stage.py"
            }
        ],
        "path": "/calrissian/cr3h6e_t"
    }
Starting Cleanup
Finishing Cleanup
}